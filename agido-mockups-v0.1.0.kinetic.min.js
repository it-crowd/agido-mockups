/*! agido-mockups v0.1.0 2013-11-05 http://itcrowd.pl by IT Crowd @it-crowd - MIT License https://github.com/it-crowd/agido-mockups/wiki/License*/
!function(){window.AgidoMockups=window.AgidoMockups||{},AgidoMockups.icons=AgidoMockups.icons||{},AgidoMockups.icons.arrowDown=new Kinetic.RegularPolygon({name:"arrowDown",width:20,height:20,sides:3,radius:7,fill:"#000",stroke:null,rotationDeg:180,offset:[0,0]})}(),function(){window.AgidoMockups=window.AgidoMockups||{},AgidoMockups.icons=AgidoMockups.icons||{},AgidoMockups.icons.arrowLeft=new Kinetic.RegularPolygon({name:"arrowLeft",sides:3,radius:7,fill:"#000",stroke:null,rotationDeg:270,offset:[5,-5]})}(),function(){window.AgidoMockups=window.AgidoMockups||{},AgidoMockups.icons=AgidoMockups.icons||{},AgidoMockups.icons.arrowRight=new Kinetic.RegularPolygon({name:"arrowRight",sides:3,radius:7,fill:"#000",stroke:null,rotationDeg:90,offset:[-5,-5]})}(),function(){window.AgidoMockups=window.AgidoMockups||{},AgidoMockups.icons=AgidoMockups.icons||{},AgidoMockups.icons.arrowUp=new Kinetic.RegularPolygon({name:"arrowUp",sides:3,radius:7,fill:"#000",stroke:null})}(),function(){window.AgidoMockups=window.AgidoMockups||{},AgidoMockups.icons=AgidoMockups.icons||{},AgidoMockups.icons.backButton=new Kinetic.Blob({name:"backButtonIcon",fill:"#fff",stroke:"#000",points:[{x:0,y:10},{x:10,y:0},{x:10,y:5},{x:20,y:5},{x:20,y:15},{x:10,y:15},{x:10,y:20}],tension:.3})}(),function(){window.AgidoMockups=window.AgidoMockups||{},AgidoMockups.icons=AgidoMockups.icons||{},AgidoMockups.icons.calendar=new Kinetic.Group({name:"calendarIcon",width:96,height:96});var a=new Kinetic.Shape({stroke:"#000",strokeWidth:2,drawFunc:function(a){a.beginPath(),a.moveTo(0,0),a.lineTo(96,0),a.lineTo(96,96),a.lineTo(0,96),a.lineTo(0,0),a.moveTo(0,20),a.lineTo(96,20),a.closePath(),a.fillStrokeShape(this)}});AgidoMockups.icons.calendar.add(a);var b=new Kinetic.RegularPolygon({x:86,y:10,sides:3,radius:7,fill:"#000",stroke:null});b.setRotationDeg(90),AgidoMockups.icons.calendar.add(b);var c=b.clone();c.setX(10),c.setRotationDeg(270),AgidoMockups.icons.calendar.add(c),AgidoMockups.icons.calendar.add(new Kinetic.Text({text:"Jul 2013",x:22,y:4,fill:"#000",fontSize:12,fontStyle:"bold",fontFamily:"Comic Sans MS"})),AgidoMockups.icons.calendar.add(new Kinetic.Text({text:"S M  T W T  F  S",x:2,y:25,fill:"#000",fontSize:10,fontStyle:"bold",fontFamily:"Comic Sans MS"})),AgidoMockups.icons.calendar.add(new Kinetic.Text({text:"1   2   3   4   5  6   7",x:2,y:37,fill:"#000",fontSize:8,fontStyle:"bold",fontFamily:"Comic Sans MS"})),AgidoMockups.icons.calendar.add(new Kinetic.Text({text:"8   9  10 11 12 13 14",x:2,y:49,fill:"#000",fontSize:8,fontStyle:"bold",fontFamily:"Comic Sans MS"})),AgidoMockups.icons.calendar.add(new Kinetic.Text({text:"15 16 17 18 19 20 21",x:2,y:61,fill:"#000",fontSize:8,fontStyle:"bold",fontFamily:"Comic Sans MS"})),AgidoMockups.icons.calendar.add(new Kinetic.Text({text:"22 23 24 25 26 27 28",x:2,y:73,fill:"#000",fontSize:8,fontStyle:"bold",fontFamily:"Comic Sans MS"})),AgidoMockups.icons.calendar.add(new Kinetic.Text({text:"29 30 31",x:2,y:85,fill:"#000",fontSize:8,fontStyle:"bold",fontFamily:"Comic Sans MS"}))}(),function(){window.AgidoMockups=window.AgidoMockups||{},AgidoMockups.icons=AgidoMockups.icons||{},AgidoMockups.icons.datepicker=new Kinetic.Shape({name:"datepickerIcon",width:24,height:24,stroke:"#000",strokeWidth:2,drawFunc:function(a){a.beginPath(),a.moveTo(0,0),a.lineTo(20,0),a.lineTo(20,5),a.lineTo(0,5),a.lineTo(0,10),a.lineTo(20,10),a.lineTo(20,15),a.lineTo(0,15),a.lineTo(0,20),a.lineTo(20,20),a.lineTo(20,5),a.moveTo(16,5),a.lineTo(16,20),a.moveTo(12,20),a.lineTo(12,5),a.moveTo(8,5),a.lineTo(8,20),a.moveTo(4,20),a.lineTo(4,5),a.moveTo(0,0),a.lineTo(0,20),a.closePath(),a.fillStrokeShape(this)}})}(),function(){window.AgidoMockups=window.AgidoMockups||{},AgidoMockups.icons=AgidoMockups.icons||{},AgidoMockups.icons.home=new Kinetic.Blob({name:"home",fill:"#fff",stroke:"#000",points:[{x:0,y:10},{x:10,y:0},{x:20,y:10},{x:17,y:10},{x:17,y:20},{x:12,y:20},{x:12,y:15},{x:8,y:15},{x:8,y:20},{x:3,y:20},{x:3,y:10}],tension:.3})}(),function(){window.AgidoMockups=window.AgidoMockups||{},AgidoMockups.icons=AgidoMockups.icons||{},AgidoMockups.icons.nextButton=new Kinetic.Blob({name:"nextButtonIcon",fill:"#fff",stroke:"#000",points:[{x:20,y:10},{x:10,y:0},{x:10,y:5},{x:0,y:5},{x:0,y:15},{x:10,y:15},{x:10,y:20}],tension:.3})}(),function(){window.AgidoMockups=window.AgidoMockups||{},AgidoMockups.icons=AgidoMockups.icons||{};var a=2*Math.PI-1e-4;AgidoMockups.icons.search=new Kinetic.Shape({name:"searchIcon",stroke:"#000",drawFunc:function(b){b.beginPath(),b.arc(0,0,5,0,a,!1),b.closePath(),b.moveTo(8,8),b.lineTo(3,3),b.fillStrokeShape(this)}})}(),window.AgidoMockups=window.AgidoMockups||{},AgidoMockups.extend=function(){var a={};for(var b in arguments)if(arguments.hasOwnProperty(b))for(var c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a},AgidoMockups.FORMATTED_TOKEN_TYPE_BOLD="bold",AgidoMockups.FORMATTED_TOKEN_TYPE_ITALIC="italic",AgidoMockups.FORMATTED_TOKEN_TYPE_LINK="link",AgidoMockups.FORMATTED_TOKEN_TYPE_STRIKETHROUGH="strikethrough",AgidoMockups.FORMATTED_TOKEN_TYPE_UNDERLINE="underline",AgidoMockups.tokenizeFormattedText=function(a){function b(){for(var a=void 0,b=0;b<arguments.length;b++)arguments[b]>-1&&(void 0==a||a>arguments[b])&&(a=arguments[b]);return a}function c(a,b,c,d){var e=i.indexOf(c,b+1);if(e>-1){var f=i.substring(b+1,e);return f.length>0?(b>0&&a.push({text:i.substring(0,b)}),a.push({type:d,text:f}),i=i.substring(e+1),0):e+1}return b}for(var d=[],e=a.split("\n"),f=0;f<e.length;f++){for(var g=[],h=0,i=e[f];i.length>0;){var j=i.indexOf("[",h),k=i.indexOf("_",h),l=i.indexOf("*",h),m=i.indexOf("~",h),n=i.indexOf("&",h);if(h=b(j,k,l,m,n),void 0==h){i.length>0&&g.push({text:i.substring(h)});break}h==j?h=c(g,h,"]",AgidoMockups.FORMATTED_TOKEN_TYPE_LINK):h==k?h=c(g,h,"_",AgidoMockups.FORMATTED_TOKEN_TYPE_ITALIC):h==l?h=c(g,h,"*",AgidoMockups.FORMATTED_TOKEN_TYPE_BOLD):h==m?h=c(g,h,"~",AgidoMockups.FORMATTED_TOKEN_TYPE_STRIKETHROUGH):h==n&&(h=c(g,h,"&",AgidoMockups.FORMATTED_TOKEN_TYPE_UNDERLINE)),h++}d.push(g)}return d},AgidoMockups.parseTable=function(a,b){function c(a){for(var b=[],c=a.split(","),d=0;d<c.length;d++){var e=c[d].match(/\s*(\d+)?(L|R|C)?\s*/);if(e&&(e[1]||e[2])){var f=void 0==e[1]?void 0:parseInt(e[1]);b[d]={width:f,align:e[2]}}}return b}function d(a,c){var d={tokens:[]};if(c&&b!==!1){var e=a.match(/(\S+\s+)v\s*$/),f=a.match(/(\S+\s+)\^\s*$/),g=a.match(/(\S+\s+)\^v\s*$/);if(e)return d.tokens.push({text:e[1]}),d.tokens.push({icon:"arrowDown"}),d;if(f)return d.tokens.push({text:f[1]}),d.tokens.push({icon:"arrowUp"}),d;if(g)return d.tokens.push({text:g[1]}),d.tokens.push({icon:"arrowUpDown"}),d}if(0<a.trim().length){var h=a.match(/^\s*\[\s*(x)?\s*\]\s*$/),i=a.match(/^\s*\(\s*(o)?\s*\)\s*$/);h?d.tokens.push({checkbox:"x"==h[1]}):i?d.tokens.push({radio:"o"==i[1]}):d.tokens.push({text:a})}return d}function e(a,b){for(var c=a.split(","),e={columns:[]},f=0,g=0;g<c.length;g++)g>0&&c[g-1].match(".*\\\\$")&&(f--,e.columns[f]=e.columns[f].substring(0,e.columns[f].length-1)+","),e.columns[f]=(void 0==e.columns[f]?"":e.columns[f])+c[g],f++;for(g=0;g<e.columns.length;g++)e.columns[g]=d(e.columns[g],b);return e}for(var f=a.split("\n"),g={rows:[],columns:[]},h=0;h<f.length;h++){var i=f[h],j=i.match(/^\s*\{(.*)\}\s*$/);if(f.length==h+1&&j){g.columns=c(j[1]);break}g.rows.push(e(i,0==h))}return g},function(){Kinetic.Arrow=function(a){this.____init(a)},Kinetic.Arrow.prototype={____init:function(a){Kinetic.Shape.call(this,a),this.className="Arrow"},drawFunc:function(a){this.setStrokeWidth(5),a.beginPath();var b=this.getHeight(),c=this.getWidth();this.getLeftDown()?(a.moveTo(0,0),a.quadraticCurveTo(3*c/4,b/4,c,b),a.moveTo(c,3*b/4),a.lineTo(c,b),a.lineTo(3*c/4,b),a.moveTo(0,b/4),a.lineTo(0,0),a.lineTo(c/4,0)):(a.moveTo(0,b),a.quadraticCurveTo(c/4,b/4,c,0),a.moveTo(0,3*b/4),a.lineTo(0,b),a.lineTo(c/4,b),a.moveTo(c,b/4),a.lineTo(c,0),a.lineTo(3*c/4,0)),a.strokeShape(this)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.Arrow,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Arrow,"leftDown",!0),Kinetic.Factory.addGetterSetter(Kinetic.Arrow,"height",100),Kinetic.Factory.addGetterSetter(Kinetic.Arrow,"width",100)}(),function(){function a(a){var b=a.find(".text")[0],c=a.find(".border")[0],d=a.find(".shadow")[0];b.setText(a.getText()),b.setFontFamily(a.getFontFamily()),b.setFontStyle(a.getFontStyle()),b.setFontSize(a.getFontSize());var e=a.getDisabled()?"#aaa":a.getColor(),f=b.getWidth();c.setWidth(a.getWidth()),c.setHeight(a.getHeight()),c.setStroke(e);var g=c.getWidth();b.setX((g-f)/2),b.setY((c.getHeight()-b.getHeight())/2),b.setFill(e),d.setWidth(g),d.setHeight(c.getHeight()),d.setFill(e)}Kinetic.Button=function(a){this.____init(a)},Kinetic.Button.prototype={____init:function(b){Kinetic.Group.call(this,b),this.className="Button",this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"shadow",x:5,y:5,draggable:!1,fill:"black",stroke:null}))),this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"border",x:0,y:0,draggable:!1,fill:"white",stroke:b.color,strokeWidth:2}))),this.add(new Kinetic.Text(AgidoMockups.extend(b,{name:"text",x:0,y:5,width:"auto",height:"auto",draggable:!1,fill:b.color,stroke:null})));var c=function(b){b.newVal!=b.oldVal&&a(this)};this.on("fontFamilyChange",c),this.on("fontSizeChange",c),this.on("fontStyleChange",c),this.on("textChange",c),this.on("disabledChange",c),this.on("widthChange",c),this.on("heightChange",c),this.getWidth()&&this.getHeight()?a(this):this.autosize()},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.Button,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.Button,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.Button,"fontSize",18),Kinetic.Factory.addGetterSetter(Kinetic.Button,"fontStyle","normal"),Kinetic.Factory.addGetterSetter(Kinetic.Button,"text","Button"),Kinetic.Factory.addGetterSetter(Kinetic.Button,"disabled",!1),Kinetic.Factory.addColorGetterSetter(Kinetic.Button,"color"),Kinetic.Util.addMethods(Kinetic.Button,{autosize:function(){var b=this.find(".text")[0];b.setText(this.getText()),b.setFontFamily(this.getFontFamily()),b.setFontStyle(this.getFontStyle()),b.setFontSize(this.getFontSize()),this.attrs.width=b.getWidth()+40,this.attrs.height=b.getHeight()+10,a(this)}})}(),function(){function a(a,b){var c=a.find(".label")[0],d=a.find(".outerRect")[0],e=a.find(".innerRect")[0],f=!0===a.getDisabled()?"#aaa":b.color;c.setText(a.getText()),c.setFontFamily(a.getFontFamily()),c.setFontStyle(a.getFontStyle()),c.setFontSize(a.getFontSize()),c.setFill(f);var g=1,h=c.getHeight()-4*g;if(d.setWidth(h),d.setHeight(h),d.setX(0+g),d.setY(0+g),d.setStroke(f),c.setX(1.5*h),e.setFill(f),a.getSelected()){e.show();var i=.6*h;e.setWidth(i),e.setHeight(i),e.setX((h-i)/2+g),e.setY((h-i)/2+g)}else e.hide();a.setWidth(c.getX()+c.getWidth()),a.setHeight(c.getHeight())}Kinetic.Checkbox=function(a){this.____init(a)},Kinetic.Checkbox.prototype={____init:function(b){Kinetic.Group.call(this,b),this.className="Checkbox",this.add(new Kinetic.Text(AgidoMockups.extend(b,{name:"label",x:0,y:0,width:"auto",height:"auto",draggable:!1,fill:b.color,stroke:null}))),this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"outerRect",x:0,y:0,draggable:!1,fill:null,stroke:b.color,strokeWidth:.5}))),this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"innerRect",x:0,y:0,draggable:!1,fill:b.color,stroke:null})));var c=function(c){c.newVal!=c.oldVal&&a(this,b)};this.on("fontFamilyChange",c),this.on("fontSizeChange",c),this.on("fontStyleChange",c),this.on("textChange",c),this.on("disabledChange",c),this.on("selectedChange",c),a(this,b)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.Checkbox,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.Checkbox,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.Checkbox,"fontSize",18),Kinetic.Factory.addGetterSetter(Kinetic.Checkbox,"fontStyle","normal"),Kinetic.Factory.addGetterSetter(Kinetic.Checkbox,"text","Checkbox"),Kinetic.Factory.addGetterSetter(Kinetic.Checkbox,"disabled",!1),Kinetic.Factory.addGetterSetter(Kinetic.Checkbox,"selected",!1)}(),function(){function a(a){a.removeChildren();for(var b,c=a.getText().split("\n"),d=0,e=0;e<c.length;e++){var f,g=c[e].match(/^\s*(-?)\s*\[\s*(x)?\s*\]\s*(.*)/);if(g){var h="-"==g[1],i="x"==g[2],j=g[3];f=new Kinetic.Checkbox({text:j,color:"#000",fontSize:14,selected:i,y:d,disabled:h})}else f=new Kinetic.Text({text:c[e],fill:"#000",fontSize:14,y:d});f.setFontFamily(a.getFontFamily()),f.setFontStyle(a.getFontStyle()),f.setFontSize(a.getFontSize()),a.add(f),(void 0==b||b<f.getWidth())&&(b=f.getWidth()),d+=f.getHeight()}a.setHeight(d),a.setWidth(b)}Kinetic.CheckboxGroup=function(a){this.____init(a)},Kinetic.CheckboxGroup.prototype={____init:function(b){Kinetic.Group.call(this,b),this.className="CheckboxGroup";var c=function(b){b.newVal!=b.oldVal&&a(this)};this.on("fontFamilyChange",c),this.on("fontSizeChange",c),this.on("fontStyleChange",c),this.on("textChange",c),a(this)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.CheckboxGroup,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.CheckboxGroup,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.CheckboxGroup,"fontSize",18),Kinetic.Factory.addGetterSetter(Kinetic.CheckboxGroup,"fontStyle","normal"),Kinetic.Factory.addGetterSetter(Kinetic.CheckboxGroup,"text","[] Checkbox A\n[x] Checkbox B\n-[] Checkbox C\n-[x] Checkbox D\nFree text")}(),function(){function a(a,b){var c=a.find(".text")[0],d=a.find(".tape")[0],e=a.find(".card")[0];c.setText(a.getText()),c.setFontFamily(a.getFontFamily()),c.setFontStyle(a.getFontStyle()),c.setFontSize(a.getFontSize()),c.setFill(b.color),c.setWidth(a.getWidth()),e.setWidth(a.getWidth()),e.setHeight(a.getHeight()),d.setX((e.getWidth()-d.getWidth())/2),a.setRotationDeg(3)}Kinetic.Comment=function(a){this.____init(a)},Kinetic.Comment.prototype={____init:function(b){Kinetic.Group.call(this,AgidoMockups.extend({width:300,height:200},b)),this.className="Comment",this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"card",x:0,y:10,draggable:!1,fill:"yellow",stroke:null}))),this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"tape",x:0,y:0,rotationDeg:-1,width:50,height:20,draggable:!1,fill:"red",stroke:null}))),this.add(new Kinetic.Text(AgidoMockups.extend(b,{name:"text",x:0,y:10,width:"auto",height:"auto",padding:30,draggable:!1,fill:b.color,stroke:null})));var c=function(c){c.newVal!=c.oldVal&&a(this,b)};this.on("fontFamilyChange",c),this.on("fontSizeChange",c),this.on("fontStyleChange",c),this.on("textChange",c),this.on("widthChange",c),this.on("heightChange",c),a(this,b)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.Comment,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.Comment,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.Comment,"fontSize",18),Kinetic.Factory.addGetterSetter(Kinetic.Comment,"fontStyle","normal"),Kinetic.Factory.addGetterSetter(Kinetic.Comment,"text","Comment")}(),function(){function a(a){var b=a.find(".text")[0],c=a.find(".border")[0],d=a.find(".datepickerIcon")[0],e=a.find(".calendarIcon")[0];b.setText(a.getText()),b.setFontFamily(a.getFontFamily()),b.setFontStyle(a.getFontStyle()),b.setFontSize(a.getFontSize());var f=a.getDisabled()?"#aaa":a.getColor();b.setFill(f);var g=10,h=b.getHeight()+g;c.setWidth(a.getWidth()-d.getWidth()),c.setHeight(h),c.setStroke(f);var i=2;d.setX(a.getWidth()-d.getWidth()+2*i),d.setY(i);var j=(h-2*i)/d.getHeight();d.setScale(j),d.setStroke(f),a.getInline()?(e.show(),b.hide(),c.hide(),d.hide(),a.setHeight(e.getHeight())):(e.hide(),b.show(),c.show(),d.show(),a.setHeight(c.getHeight()))}Kinetic.Datepicker=function(a){this.____init(a)},Kinetic.Datepicker.prototype={____init:function(b){Kinetic.Group.call(this,AgidoMockups.extend({width:150},b)),this.className="Datepicker",this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"border",x:0,y:0,draggable:!1,fill:"white",stroke:b.color,strokeWidth:2}))),this.add(new Kinetic.Text(AgidoMockups.extend(b,{name:"text",x:5,y:5,width:"auto",height:"auto",draggable:!1,fill:b.color,stroke:null}))),this.add(AgidoMockups.icons.datepicker.clone()),this.add(AgidoMockups.icons.calendar.clone());var c=function(c){c.newVal!=c.oldVal&&a(this,b)};this.on("fontFamilyChange",c),this.on("fontSizeChange",c),this.on("fontStyleChange",c),this.on("textChange",c),this.on("disabledChange",c),this.on("inlineChange",c),this.on("colorChange",c),this.on("widthChange",c),a(this,b)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.Datepicker,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.Datepicker,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.Datepicker,"fontSize",18),Kinetic.Factory.addGetterSetter(Kinetic.Datepicker,"fontStyle","normal"),Kinetic.Factory.addGetterSetter(Kinetic.Datepicker,"text","29/07/2013"),Kinetic.Factory.addGetterSetter(Kinetic.Datepicker,"disabled",!1),Kinetic.Factory.addGetterSetter(Kinetic.Datepicker,"inline",!1),Kinetic.Factory.addColorGetterSetter(Kinetic.Datepicker,"color")}(),function(){Kinetic.Grid=function(a){this.____init(a)},Kinetic.Grid.prototype={____init:function(a){Kinetic.Shape.call(this,a),this.className="Grid"},drawFunc:function(a){var b=this.getHeight(),c=this.getWidth(),d=Math.max(5,this.getSpacing());a.beginPath();for(var e=d+.5;c>e;e+=d)a.moveTo(e,0),a.lineTo(e,b);for(var f=d+.5;b>f;f+=d)a.moveTo(0,f),a.lineTo(c,f);a.strokeShape(this)}},Kinetic.Util.extend(Kinetic.Grid,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Grid,"spacing",20)}(),function(){function a(a){var b=a.find(".text")[0],c=a.find(".background")[0],d=a.getText();c.setWidth(a.getWidth()),c.setHeight(a.getHeight()),b.setText(d);var e=(c.getHeight()-b.getHeight())/2;b.setY(e),b.setWidth(c.getWidth()),a.setClip([0,0,a.getWidth(),a.getHeight()])}Kinetic.ImageItem=function(a){this.____init(a)},Kinetic.ImageItem.prototype={____init:function(b){Kinetic.Group.call(this,AgidoMockups.extend({width:80,height:80},b)),this.className="ImageItem",this.add(new Kinetic.Shape({name:"background",fill:"#fff",stroke:"#000",strokeWidth:2,drawFunc:function(a){a.beginPath(),a.moveTo(0,0),a.lineTo(this.getWidth(),0),a.lineTo(this.getWidth(),this.getHeight()),a.lineTo(0,this.getHeight()),a.lineTo(0,0),a.lineTo(this.getWidth(),this.getHeight()),a.moveTo(this.getWidth(),0),a.lineTo(0,this.getHeight()),a.closePath(),a.fillStrokeShape(this)}})),this.add(new Kinetic.Text(AgidoMockups.extend(b,{name:"text",x:0,y:0,width:"auto",height:"auto",align:"center",draggable:!1,fill:"#000",fontSize:14,stroke:null})));var c=function(b){b.newVal!=b.oldVal&&a(this)};this.on("textChange",c),this.on("widthChange",c),this.on("heightChange",c),a(this)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.ImageItem,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.ImageItem,"text","")}(),function(){function a(a){var b=a.find(".text")[0],c=a.find(".border")[0];b.setText(a.getText()),b.setFontFamily(a.getFontFamily()),b.setFontStyle(a.getFontStyle()),b.setFontSize(a.getFontSize());var d=a.getDisabled()?"#aaa":a.getColor();b.setFill(d);var e=b.getHeight()+10;c.setWidth(a.getWidth()),c.setHeight(e),c.setStroke(d),a.setHeight(e)}Kinetic.Input=function(a){this.____init(a)},Kinetic.Input.prototype={____init:function(b){Kinetic.Group.call(this,AgidoMockups.extend({width:150},b)),this.className="Input",this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"border",x:0,y:0,draggable:!1,fill:"white",stroke:b.color,strokeWidth:2}))),this.add(new Kinetic.Text(AgidoMockups.extend(b,{name:"text",x:5,y:5,width:"auto",height:"auto",draggable:!1,fill:b.color,stroke:null})));var c=function(b){b.newVal!=b.oldVal&&a(this)};this.on("fontFamilyChange",c),this.on("fontSizeChange",c),this.on("fontStyleChange",c),this.on("textChange",c),this.on("disabledChange",c),this.on("widthChange",c),this.on("heightChange",c),a(this)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.Input,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.Input,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.Input,"fontSize",18),Kinetic.Factory.addGetterSetter(Kinetic.Input,"fontStyle","normal"),Kinetic.Factory.addGetterSetter(Kinetic.Input,"text",""),Kinetic.Factory.addGetterSetter(Kinetic.Input,"disabled",!1),Kinetic.Factory.addColorGetterSetter(Kinetic.Input,"color")}(),function(){function a(a){var b=a.find(".text")[0];b.setText(a.getText()),b.setFontFamily(a.getFontFamily()),b.setFontStyle(a.getFontStyle()),b.setFontSize(a.getFontSize());var c=!0===a.getDisabled()?"#aaa":a.color;b.setFill(c);var d=a.find(".line")[0];d.setPoints([{x:0,y:b.getTextHeight()},{x:b.getWidth(),y:b.getTextHeight()}]),d.setStroke(c),a.setWidth(b.getWidth()),a.setHeight(b.getHeight())}Kinetic.Link=function(a){this.____init(a)},Kinetic.Link.prototype={____init:function(b){this.className="Link",Kinetic.Group.call(this,b),this.add(new Kinetic.Text(AgidoMockups.extend(b,{name:"text",x:0,y:0,width:"auto",height:"auto",draggable:!1,fill:b.color,stroke:null}))),this.add(new Kinetic.Line(AgidoMockups.extend(b,{name:"line",x:0,y:0,draggable:!1,stroke:b.color})));var c=function(c){c.newVal!=c.oldVal&&a(this,b)};this.on("fontFamilyChange",c),this.on("fontSizeChange",c),this.on("fontStyleChange",c),this.on("disabledChange",c),this.on("textChange",c),a(this,b)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.Link,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.Link,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.Link,"fontSize",18),Kinetic.Factory.addGetterSetter(Kinetic.Link,"fontStyle","normal"),Kinetic.Factory.addGetterSetter(Kinetic.Link,"disabled",!1),Kinetic.Factory.addGetterSetter(Kinetic.Link,"text","The link")}(),function(){function a(a){var b,c,d=a.find(".border")[0],e=a.find(".itemsGroup")[0],f=20,g=5,h=5,i=a.getFontFamily(),j=a.getFontStyle(),k=a.getFontSize(),l=[],m=250,n=h;e.removeChildren();for(var o=a.getText().split("\n"),p=0;p<o.length;p++){if(n+=h,0==o[p].indexOf("-"))b=new Kinetic.Line({points:[g,n,m-g,n],stroke:"#000",strokeWidth:2}),Kinetic.Group.prototype.add.call(e,b);else{c=f;var q=o[p].split(",",2),r="#000";0==q[0].indexOf("/")&&(r="#aaa",q[0]=q[0].replace("/","")),b=new Kinetic.Text({text:q[0],fill:r,fontFamily:i,fontStyle:j,fontSize:k,x:c,y:n}),Kinetic.Group.prototype.add.call(e,b);var s=[b];c+=b.getWidth(),q.length>1&&(c+=f,b=new Kinetic.Text({text:q[1],fill:r,fontFamily:i,fontStyle:j,fontSize:k,x:c,y:n}),Kinetic.Group.prototype.add.call(e,b),s.push(b),l.push(b),c+=b.getWidth()),c+=g,c>m&&(m=c)}n+=b.getHeight()+h}var t=150>n?150:n;for(p=0;p<l.length;p++)b=l[p],b.setX(m-b.getWidth()-g);d.setWidth(m),d.setHeight(t+h),a.setHeight(d.getHeight()),a.setWidth(d.getWidth())}Kinetic.Menu=function(a){this.____init(a)},Kinetic.Menu.prototype={____init:function(b){Kinetic.Group.call(this,b),this.className="Menu",this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"border",x:0,y:0,draggable:!1,fill:"white",stroke:b.color,strokeWidth:2}))),this.add(new Kinetic.Group(AgidoMockups.extend(b,{name:"itemsGroup",x:0,y:0,draggable:!1})));var c=function(b){b.newVal!=b.oldVal&&a(this)};this.on("fontFamilyChange",c),this.on("fontSizeChange",c),this.on("fontStyleChange",c),this.on("textChange",c),a(this)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.Menu,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.Menu,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.Menu,"fontSize",18),Kinetic.Factory.addGetterSetter(Kinetic.Menu,"fontStyle","normal"),Kinetic.Factory.addGetterSetter(Kinetic.Menu,"text","Open,CTRL+O\nOpen Recent,>\n-\nActive Item\n/Disabled Item\n-\nExit,CTRL+Q")}(),function(){function a(a){var b=a.find(".border")[0],c=a.find(".itemsGroup")[0],d=15,e=5;c.removeChildren();for(var f,g=0,h=0,i=a.getText().split(","),j=0;j<i.length;j++)g+=d,f=new Kinetic.Text({text:i[j],fill:"#000",fontSize:18,x:g,y:e}),f.setFontFamily(a.getFontFamily()),f.setFontStyle(a.getFontStyle()),f.setFontSize(a.getFontSize()),c.add(f),g+=f.getWidth()+d,h=f.getHeight()+2*e;b.setWidth(a.getWidth()),b.setHeight(h),a.setHeight(h),g>a.getWidth()&&a.setWidth(g)}Kinetic.MenuBar=function(a){this.____init(a)},Kinetic.MenuBar.prototype={____init:function(b){Kinetic.Group.call(this,AgidoMockups.extend({width:300},b)),this.className="MenuBar",this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"border",x:0,y:0,draggable:!1,fill:"white",stroke:"#000",strokeWidth:2}))),this.add(new Kinetic.Group(AgidoMockups.extend(b,{name:"itemsGroup",x:0,y:0,draggable:!1})));var c=function(b){b.newVal!=b.oldVal&&a(this)};this.on("fontFamilyChange",c),this.on("fontSizeChange",c),this.on("fontStyleChange",c),this.on("textChange",c),this.on("widthChange",c),a(this)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.MenuBar,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.MenuBar,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.MenuBar,"fontSize",18),Kinetic.Factory.addGetterSetter(Kinetic.MenuBar,"fontStyle","normal"),Kinetic.Factory.addGetterSetter(Kinetic.MenuBar,"text","File,Edit,View,Help")}(),function(){Kinetic.Pagination=function(a){this.____init(a)},Kinetic.Pagination.prototype={____init:function(a){Kinetic.Group.call(this,a),this.className="Pagination";var b=0,c=10,d=2*c,e=5;this.add(AgidoMockups.icons.arrowLeft.clone({x:b,y:e})),this.add(AgidoMockups.icons.arrowLeft.clone({x:b+=c,y:e})),this.add(AgidoMockups.icons.arrowLeft.clone({x:b+=d,y:e})),this.add(AgidoMockups.icons.arrowRight.clone({x:b+=3*d,y:0,scale:2})),this.add(AgidoMockups.icons.arrowRight.clone({x:b+=2*d,y:e})),this.add(AgidoMockups.icons.arrowRight.clone({x:b+=d,y:e})),this.add(AgidoMockups.icons.arrowRight.clone({x:b+=c,y:e})),this.setWidth(b),this.setHeight(4*e)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.Pagination,Kinetic.Group)}(),function(){function a(a){var b=a.find(".frame")[0],c=a.find(".headerBorder")[0],d=a.find(".title")[0];b.setAttr("width",a.getWidth()),b.setAttr("height",a.getHeight());var e=b.getStrokeWidth();d.setX(e),d.setY(0),d.setText(a.getText()),c.setPoints([e,d.getHeight(),b.getWidth()-e,d.getHeight()])}Kinetic.Panel=function(a){this.____init(a)},Kinetic.Panel.prototype={____init:function(b){Kinetic.Group.call(this,AgidoMockups.extend({width:300,height:200},b)),this.className="Panel",this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"frame",x:0,y:0,draggable:!1,fill:"#fff",stroke:"#000",strokeWidth:1}))),this.add(new Kinetic.Text(AgidoMockups.extend(b,{name:"title",x:0,y:0,width:"auto",height:"auto",padding:5,draggable:!1,fill:"#000",stroke:null,fontFamily:"Comic Sans MS"}))),this.add(new Kinetic.Line(AgidoMockups.extend(b,{name:"headerBorder",x:0,y:0,draggable:!1,stroke:"#000"})));var c=function(b){b.newVal!=b.oldVal&&a(this)};this.on("textChange",c),this.on("widthChange",c),this.on("heightChange",c),a(this)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.Panel,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.Panel,"text","Panel")}(),function(){function a(a){a.removeChildren();for(var b,c=AgidoMockups.tokenizeFormattedText(a.getText()),d=0,e=0,f=0;f<c.length;f++){for(var g=0,h=0,i=0;i<c[f].length;i++){var j,k=c[f][i],l={text:k.text,y:e,x:g,fill:"#000",color:"#5df"};AgidoMockups.FORMATTED_TOKEN_TYPE_LINK==k.type?j=new Kinetic.Link(l):(j=new Kinetic.Text(l),AgidoMockups.FORMATTED_TOKEN_TYPE_BOLD==k.type?j.setFontStyle("bold"):AgidoMockups.FORMATTED_TOKEN_TYPE_ITALIC==k.type&&j.setFontStyle("italic")),j.setFontFamily(a.getFontFamily()),j.setFontSize(a.getFontSize()),a.add(j),d=j.getHeight(),h+=j.getWidth(),g+=j.getWidth(),AgidoMockups.FORMATTED_TOKEN_TYPE_STRIKETHROUGH==k.type?a.add(new Kinetic.Line({stroke:"#000",points:[{x:l.x,y:e+d/2},{x:g,y:e+d/2}]})):AgidoMockups.FORMATTED_TOKEN_TYPE_UNDERLINE==k.type&&a.add(new Kinetic.Line({stroke:"#000",points:[{x:l.x,y:e+d},{x:g,y:e+d}]}))}b=Math.max(void 0==b?h:b,h),e+=d}a.setHeight(e),a.setWidth(b)}Kinetic.Paragraph=function(a){this.____init(a)},Kinetic.Paragraph.prototype={____init:function(b){Kinetic.Group.call(this,b),this.className="Paragraph";var c=function(b){b.newVal!=b.oldVal&&a(this)};this.on("fontFamilyChange",c),this.on("fontSizeChange",c),this.on("textChange",c),a(this)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.Paragraph,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.Paragraph,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.Paragraph,"fontSize",18),Kinetic.Factory.addGetterSetter(Kinetic.Paragraph,"text","A [paragraph] of *text*.\nA _second_ &row& of ~text~.")}(),function(){function a(a){a.removeChildren();for(var b,c=a.getText().split("\n"),d=0,e=0;e<c.length;e++){var f,g=c[e].match(/^\s*(-?)\s*\(\s*(o)?\s*\)\s*(.*)/);if(g){var h="-"==g[1],i="o"==g[2],j=g[3];f=new Kinetic.RadioItem({text:j,color:"#000",fontSize:14,selected:i,y:d,disabled:h})}else f=new Kinetic.Text({text:c[e],fill:"#000",fontSize:14,y:d});f.setFontFamily(a.getFontFamily()),f.setFontStyle(a.getFontStyle()),f.setFontSize(a.getFontSize()),a.add(f),(void 0==b||b<f.getWidth())&&(b=f.getWidth()),d+=f.getHeight()}a.setHeight(d),a.setWidth(b)}Kinetic.RadioGroup=function(a){this.____init(a)},Kinetic.RadioGroup.prototype={____init:function(b){Kinetic.Group.call(this,b),this.className="RadioGroup";var c=function(b){b.newVal!=b.oldVal&&a(this)};this.on("fontFamilyChange",c),this.on("fontSizeChange",c),this.on("fontStyleChange",c),this.on("textChange",c),a(this)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.RadioGroup,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.RadioGroup,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.RadioGroup,"fontSize",18),Kinetic.Factory.addGetterSetter(Kinetic.RadioGroup,"fontStyle","normal"),Kinetic.Factory.addGetterSetter(Kinetic.RadioGroup,"text","() Radio item A\n(o) Radio item B\n-() Radio item C\n-(o) Radio item D\nFree text")}(),function(){function a(a,b){var c=a.find(".label")[0],d=a.find(".outerCircle")[0],e=a.find(".innerCircle")[0],f=!0===a.getDisabled()?"#aaa":b.color;c.setText(a.getText()),c.setFontFamily(a.getFontFamily()),c.setFontStyle(a.getFontStyle()),c.setFontSize(a.getFontSize()),c.setFill(f);var g=1,h=(c.getHeight()-2*g)/4;if(d.setRadius(h),d.setX(h+g),d.setY(2*h+g),d.setStroke(f),c.setX(3*h),e.setFill(f),a.getSelected()){e.show();var i=.6*h;e.setRadius(i),e.setX(h+g),e.setY(2*h+g)}else e.hide();a.setHeight(c.getHeight()),a.setWidth(c.getWidth()+c.getX())}Kinetic.RadioItem=function(a){this.____init(a)},Kinetic.RadioItem.prototype={____init:function(b){Kinetic.Group.call(this,b),this.className="RadioItem",this.add(new Kinetic.Text(AgidoMockups.extend(b,{name:"label",x:0,y:0,width:"auto",height:"auto",draggable:!1,fill:b.color,stroke:null}))),this.add(new Kinetic.Circle(AgidoMockups.extend(b,{name:"outerCircle",x:0,y:0,draggable:!1,fill:null,stroke:b.color,strokeWidth:.5}))),this.add(new Kinetic.Circle(AgidoMockups.extend(b,{name:"innerCircle",x:0,y:0,draggable:!1,fill:b.color,stroke:null})));var c=function(c){c.newVal!=c.oldVal&&a(this,b)};this.on("fontFamilyChange",c),this.on("fontSizeChange",c),this.on("fontStyleChange",c),this.on("textChange",c),this.on("disabledChange",c),this.on("selectedChange",c),a(this,b)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.RadioItem,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.RadioItem,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.RadioItem,"fontSize",18),Kinetic.Factory.addGetterSetter(Kinetic.RadioItem,"fontStyle","normal"),Kinetic.Factory.addGetterSetter(Kinetic.RadioItem,"text","The radio item"),Kinetic.Factory.addGetterSetter(Kinetic.RadioItem,"disabled",!1),Kinetic.Factory.addGetterSetter(Kinetic.RadioItem,"selected",!1)
}(),function(){function a(a){var b,c,d,e=a.find(".border")[0],f=a.find(".arrowBorder")[0],g=a.find(".arrowDown")[0],h=a.find(".expansion")[0],i=a.find(".linesGroup")[0],j=5,k=2*j,l=a.getDisabled()?"#aaa":a.getColor(),m=0,n=j;i.removeChildren();for(var o=a.getText().split("\n"),p=0;p<o.length;p++)(0==p||a.getOpened())&&(b=new Kinetic.Text({text:o[p],fill:l,fontSize:18,x:j,y:p>0?n+j:n}),b.setFontFamily(a.getFontFamily()),b.setFontStyle(a.getFontStyle()),b.setFontSize(a.getFontSize()),Kinetic.Group.prototype.add.call(i,b),c=b.getWidth(),d=b.getHeight(),n+=d+j,c>m&&(m=c));var q=d+k,r=a.getWidth()-4;e.setWidth(r-g.getWidth()),e.setHeight(q),e.setStroke(l),f.setX(r-g.getWidth()),f.setHeight(q),f.setStroke(l);var s=r-g.getWidth()+13,t=q/2;g.setX(s),g.setY(t),g.setFill(l),a.getOpened()?(h.show(),h.setY(q),h.setWidth(a.getWidth()),h.setHeight(n-q+j),h.setStroke(l),a.setHeight(n+j)):(h.hide(),a.setHeight(n))}Kinetic.Select=function(a){this.____init(a)},Kinetic.Select.prototype={____init:function(b){Kinetic.Group.call(this,AgidoMockups.extend({width:150},b)),this.className="Select",this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"border",x:0,y:0,draggable:!1,fill:"white",stroke:b.color,strokeWidth:2}))),this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"arrowBorder",x:125,y:0,width:25,draggable:!1,fill:"white",stroke:b.color,strokeWidth:2}))),this.add(AgidoMockups.icons.arrowDown.clone()),this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"expansion",x:0,y:0,draggable:!1,fill:"white",stroke:b.color,strokeWidth:2}))),this.add(new Kinetic.Group(AgidoMockups.extend(b,{name:"linesGroup",x:0,y:0,draggable:!1})));var c=function(b){b.newVal!=b.oldVal&&a(this)};this.on("fontFamilyChange",c),this.on("fontSizeChange",c),this.on("fontStyleChange",c),this.on("textChange",c),this.on("disabledChange",c),this.on("openedChange",c),this.on("widthChange",c),a(this)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.Select,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.Select,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.Select,"fontSize",18),Kinetic.Factory.addGetterSetter(Kinetic.Select,"fontStyle","normal"),Kinetic.Factory.addGetterSetter(Kinetic.Select,"text","Select"),Kinetic.Factory.addGetterSetter(Kinetic.Select,"disabled",!1),Kinetic.Factory.addGetterSetter(Kinetic.Select,"opened",!1),Kinetic.Factory.addColorGetterSetter(Kinetic.Select,"color")}(),function(){function a(a){function b(b){var c=j[b];return void 0==c?(c=j[b]=new Kinetic.Group({name:"Column"}),a.add(c),c):c}a.removeChildren();var c,d,e,f,g,h,i={fontFamily:a.getFontFamily(),fontStyle:a.getFontStyle(),fontSize:a.getFontSize(),padding:a.getPadding(),fill:"#000"},j=[],k=AgidoMockups.parseTable(a.getText(),a.getShowHeader()),l=0;for(c=0;c<k.rows.length;c++){var m=0;for(d=k.rows[c],d.y=0==c?0:k.rows[c-1].y+k.rows[c-1].height,e=0;e<d.columns.length;e++){f=d.columns[e];var n=0;for(g=0;g<f.tokens.length;g++){var o=f.tokens[g],p=!1;if(void 0!=o.checkbox)f.tokens[g]=new Kinetic.Checkbox(AgidoMockups.extend(i,{selected:o.checkbox,x:0,y:0,color:"#000",text:""}));else if(void 0!=o.radio)f.tokens[g]=new Kinetic.RadioItem(AgidoMockups.extend(i,{selected:o.radio,color:"#000",text:""}));else if(void 0!=o.icon){p=!0;var q=AgidoMockups.icons[o.icon];if(void 0==q){console.warn("Missing icon: "+o.icon),f.tokens.splice(g,1);continue}f.tokens[g]=q.clone()}else{var r=o.text;r=void 0==r?void 0:r.replace("\\r","\n"),f.tokens[g]=new Kinetic.Text(AgidoMockups.extend(i,{text:r}))}var s=f.tokens[g];b(e).add(s),p?s.setY(d.y+a.getPadding()):s.setY(d.y),g>0&&s.setX(n),n+=s.getWidth(),m=Math.max(m,s.getHeight())}k.columns[e]=k.columns[e]||{},k.columns[e].maxWidth=k.columns[e].maxWidth||0,k.columns[e].maxWidth=Math.max(k.columns[e].maxWidth,n)}d.height=m,l+=m}var t=0;for(e=0;e<j.length;e++)h=k.columns[e],(void 0==h||void 0==h.width||0<h.width)&&t++;for(e=0;e<j.length;e++){h=k.columns[e];var u=b(e);if(void 0==h||void 0==h.width||0<h.width){var v=void 0==h||void 0==h.width?1/t:h.width/100;u.setWidth(Math.max(1,a.getWidth()*v))}else u.setWidth(Math.max(1,h.maxWidth))}var w=0,x=0;for(e=0;e<j.length;e++)f=b(e),f.setX(w),w+=f.getWidth(),x+=f.getWidth(),f.setClip(0,0,f.getWidth(),l);for(c=0;c<k.rows.length;c++){d=k.rows[c];var y=0==c%2?"#fafafa":"#eee";0==c&&a.getShowHeader()&&(y="#aaa");var z=new Kinetic.Rect({x:0,y:d.y,width:x,height:d.height,fill:y,stroke:"black",strokeWidth:.5});a.add(z),z.moveToBottom()}}Kinetic.Table=function(a){this.____init(a)},Kinetic.Table.prototype={____init:function(b){Kinetic.Group.call(this,b),this.className="Table";var c=function(b){b.newVal!=b.oldVal&&a(this)};this.on("fontFamilyChange",c),this.on("fontSizeChange",c),this.on("fontStyleChange",c),this.on("textChange",c),this.on("widthChange",c),this.on("paddingChange",c),this.on("showHeaderChange",c),a(this)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.Table,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.Table,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.Table,"fontSize",12),Kinetic.Factory.addGetterSetter(Kinetic.Table,"fontStyle","normal"),Kinetic.Factory.addGetterSetter(Kinetic.Table,"showHeader",!0),Kinetic.Factory.addGetterSetter(Kinetic.Table,"height",200),Kinetic.Factory.addGetterSetter(Kinetic.Table,"width",300),Kinetic.Factory.addGetterSetter(Kinetic.Table,"padding",10),Kinetic.Factory.addGetterSetter(Kinetic.Table,"text","First\\r(last name) ^, Age ^v, Ksywa, Selector v\nJack\\rOf all trades, 27, jm, (o)\nTomo\\rKrotovina, 36, , [x]\nBear\\rThe bald, 32, BB, []\nKazmierz\\rWielki, ?, KW, [x]\nKristof Soccerer, 23, Magic Bit, (o)\n{65L, 0R, 35, 0C}")}(),function(){function a(a){var b=a.find(".border")[0],c=a.find(".text")[0],d=a.getDisabled()?"#aaa":a.getColor();c.setWidth(a.getWidth()),c.setText(a.getText()),c.setFill(d),b.setWidth(a.getWidth()),b.setHeight(a.getHeight()),b.setStroke(d)}Kinetic.TextArea=function(a){this.____init(a)},Kinetic.TextArea.prototype={____init:function(b){Kinetic.Group.call(this,AgidoMockups.extend({width:200,height:100},b)),this.className="TextArea",this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"border",x:0,y:0,draggable:!1,fill:"white",stroke:b.color,strokeWidth:2}))),this.add(new Kinetic.Text(AgidoMockups.extend(b,{name:"text",x:0,y:0,width:"auto",height:"auto",padding:5,draggable:!1})));var c=function(b){b.newVal!=b.oldVal&&a(this)};this.on("fontFamilyChange",c),this.on("fontSizeChange",c),this.on("fontStyleChange",c),this.on("textChange",c),this.on("disabledChange",c),this.on("colorChange",c),this.on("widthChange",c),this.on("heightChange",c),a(this)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.TextArea,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.TextArea,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.TextArea,"fontSize",18),Kinetic.Factory.addGetterSetter(Kinetic.TextArea,"fontStyle","normal"),Kinetic.Factory.addGetterSetter(Kinetic.TextArea,"text","Textarea"),Kinetic.Factory.addGetterSetter(Kinetic.TextArea,"disabled",!1),Kinetic.Factory.addColorGetterSetter(Kinetic.TextArea,"color")}(),function(){function a(a){var b=a.find(".frame")[0],c=a.find(".toolbar")[0],d=a.find(".toolbarBorder")[0],e=a.find(".statusbar")[0],f=a.find(".statusbarBorder")[0],g=a.find(".title")[0],h=a.find(".url")[0],i=a.find(".search")[0],j=a.find(".searchIcon")[0];b.setAttr("width",a.getWidth()),b.setAttr("height",a.getHeight());var k=b.getStrokeWidth();c.setX(k),c.setY(k),c.setAttr("width",a.getWidth()-2*k),c.setAttr("height",60),d.setPoints([c.getX(),c.getAttr("y")+c.getHeight(),c.getX()+c.getWidth(),c.getAttr("y")+c.getHeight()]),e.setX(k),e.setY(a.getHeight()-20-k),e.setAttr("width",a.getWidth()-2*k),e.setAttr("height",20),f.setPoints([e.getX(),e.getAttr("y"),e.getX()+e.getWidth(),e.getAttr("y")]);var l=a.getText().split("\n");g.setText(l[0]),g.setX(k+(c.getWidth()-g.getWidth())/2),g.setY(0);var m=20,n=c.getWidth()-50-m,o=k+g.getHeight();i.setX(n-5),i.setY(o),j.setX(n),j.setY(o+9);var p=k+110;h.setX(p),h.setY(k+g.getHeight()),h.setText(l.length>0?l[1]:""),h.setWidth(n-p-m),h.setHeight(k+g.getHeight())}Kinetic.Window=function(a){this.____init(a)},Kinetic.Window.prototype={____init:function(b){Kinetic.Group.call(this,b),this.className="Window",this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"frame",x:0,y:0,draggable:!1,fill:"#fff",stroke:"#000",strokeWidth:1}))),this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"toolbar",draggable:!1,fill:"#aaa",stroke:null}))),this.add(new Kinetic.Rect(AgidoMockups.extend(b,{name:"statusbar",draggable:!1,fill:"#aaa",stroke:null}))),this.add(new Kinetic.Blob(AgidoMockups.extend(b,{name:"search",draggable:!1,fill:"#fff",stroke:"#000",points:[{x:0,y:0},{x:50,y:0},{x:50,y:20},{x:0,y:20}],tension:.3}))),this.add(AgidoMockups.icons.search.clone()),this.add(AgidoMockups.icons.backButton.clone({x:20,y:20})),this.add(AgidoMockups.icons.nextButton.clone({x:50,y:20})),this.add(AgidoMockups.icons.home.clone({x:80,y:20})),this.add(new Kinetic.Text(AgidoMockups.extend(b,{name:"title",x:0,y:0,width:"auto",height:"auto",padding:5,draggable:!1,fill:"#000",stroke:null,fontFamily:"Comic Sans MS"}))),this.add(new Kinetic.Input(AgidoMockups.extend(b,{name:"url",draggable:!1,color:"#000",fontFamily:"Comic Sans MS",fontSize:10}))),this.add(new Kinetic.Line(AgidoMockups.extend(b,{name:"toolbarBorder",x:0,y:0,draggable:!1,stroke:"#000"}))),this.add(new Kinetic.Line(AgidoMockups.extend(b,{name:"statusbarBorder",x:0,y:0,draggable:!1,stroke:"#000"})));var c=function(b){b.newVal!=b.oldVal&&a(this)};this.on("textChange",c),this.on("widthChange",c),this.on("heightChange",c),a(this)},toObject:function(){return Kinetic.Node.prototype.toObject.call(this)}},Kinetic.Util.extend(Kinetic.Window,Kinetic.Group),Kinetic.Factory.addGetterSetter(Kinetic.Window,"text","A Web Page\nhttp://"),Kinetic.Factory.addGetterSetter(Kinetic.Window,"height",400),Kinetic.Factory.addGetterSetter(Kinetic.Window,"width",400)}();